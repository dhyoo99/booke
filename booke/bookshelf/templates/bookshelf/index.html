{% extends 'base.html' %}
{% load static %}

{% block content %}
{% load static %}
    
<div class = "first-page">    
    <div class = "temp"> 
            {% if user.is_authenticated %}
            
                <div class = "achievement">
                    <div> 지금까지: {{user.profile.already}}쪽 </div>
                    <div class = "totalpc">
                        <div class = "achievepc" style="width: calc(500px * {{user.profile.already}} / {{user.profile.goal}}"></div>
                    </div>
                    <div> 목표독서량: {{user.profile.goal}}쪽 </div>
                </div>

                {% for already in profile %}
                <div class = "myshelf">
                    {% if user.profile.goal == 1000 %} 
                        <div class = "myshelf1">
                            <div class="shelf">
                                {% for userbook in books %}
                                    <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                        <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                            {{userbook.bookid.title}} 
                                        </div>
                                    </a> 
                                {% endfor %} 
                            </div>
                        </div>
                    {% elif user.profile.goal == 2000 %}
                        <div class = "myshelf2">
                            {% if 0 <= {{user.profile.already}} <= 1000 %} 
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %} 
                                </div>
                            {% elif 1001 <= {{user.profile.already}} %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %} 
                                </div>
                            {% endif %}
                        </div>
                    {% elif user.profile.goal == 3000 %}
                        <div class = "myshelf3">
                            {% if 0 <= {{user.profile.already}} <= 1000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %} 
                                </div>
                            {% elif 1001 <= {{user.profile.already}} <= 2000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %} 
                                </div>
                            {% elif 2001 <= {{user.profile.already}} <= 3000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %} 
                                </div>
                            {%endif%}
                        </div>
                    {% elif user.profile.goal == 5000 %}
                        <div class = "myshelf4">
                            {% if 0 <= {{user.profile.already}} <= 1000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}                                
                                </div>
                            {% elif 1001 <= {{user.profile.already}} <= 2000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}   
                                </div>
                            {% elif 2001 <= {{user.profile.already}} <= 3000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}   
                                </div>
                            {% elif 3001 <= {{user.profile.already}} <= 4000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}   
                                </div>
                            {% elif 4001 <= {{user.profile.already}} %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}   
                                </div>
                            {%endif%}
                        </div>
                    {% elif user.profile.goal == 10000 %}
                        <div class = "myshelf5">
                            {% if 0 <= {{user.profile.already}} <= 2000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}                                
                                </div>
                            {% elif 2001 <= {{user.profile.already}} <= 4000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}   
                                </div>
                            {% elif 4001 <= {{user.profile.already}} <= 6000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}   
                                </div>
                            {% elif 6001 <= {{user.profile.already}} <= 8000 %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}   
                                </div>
                            {% elif 8001 <= {{user.profile.already}} %}
                                <div class="shelf">
                                    {% for userbook in books %}
                                        <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                                            <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                                                {{userbook.bookid.title}} 
                                            </div>
                                        </a> 
                                    {% endfor %}   
                                </div>
                            {%endif%}
                        </div>
                    {% endif %}
                    
                <div class = "newbook-btn">        
                    <button type="button" data-toggle="modal" data-target="#createModal" class="newbook">
                        <img src="{% static 'bookshelf/newbook.png'  %}">
                    </button>        
                </div>
                
            {% else %}
                <div class="back"> 
                    <img class="back_img" src="{% static 'bookshelf/back.png' %}"/>
                    <img class="back_img1" src="{% static 'bookshelf/logo.png' %}"/>
                </div>
            {% endif %}

    </div>

    <div class = "friendslist-btn">
        {% if user.is_authenticated %}
            {% for friend in follows %} <!--마지막 댓글의 경우-->
                <div class="friend-list" style="display: none;"> <!--나머지 댓글의 경우 toggle-comment라는 클래스를 적용하고 보이지 않게 설정합니다-->
                    <p>{{friend.nickname}}</p>
                    <button class="more-friendlist-btn"> Friend list </button>
                    {% csrf_token %}
                </div> 
            {% endfor %}
        {% endif %}

    </div>
</div>

{% endblock content %}